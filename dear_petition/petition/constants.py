from model_utils import Choices

PARSER_MODE = 2

DISTRICT_COURT = "D"
SUPERIOR_COURT = "S"
NOT_AVAILABLE = "N/A"

JURISDICTION_MAP = {
    DISTRICT_COURT: "DISTRICT COURT",
    SUPERIOR_COURT: "SUPERIOR COURT",
    NOT_AVAILABLE: "NOT AVAILABLE",
}

JURISDICTION_CHOICES = Choices(*[(k, v) for k, v in JURISDICTION_MAP.items()])

OFFENSE_HEADERS = Choices(
    (DISTRICT_COURT, "District Court Offense Information"),
    (SUPERIOR_COURT, "Superior Court Offense Information"),
)

MALE = "M"
FEMALE = "F"
UNKNOWN = "U"
SEX_CHOICES = Choices(
    (MALE, "Male"),
    (FEMALE, "Female"),
    (UNKNOWN, "Unknown"),
    (NOT_AVAILABLE, "NOT AVAILABLE"),
)

CONTACT_CATEGORIES = Choices(("agency", "Agency"), ("attorney", "Attorney"), ("client", "Client"))

DATETIME_FORMAT = "%Y-%m-%dT%H:%M:%S"
DATE_FORMAT = "%m/%d/%Y"

CHARGED = "CHARGED"
CONVICTED = "CONVICTED"
ARRAIGNED = "ARRAIGNED"
GUILTY = "GUILTY"

COMMENT_MAX_LENGTH = 8192

NEW_COMMENT_EMAIL_SUBJECT = "New comment available for batch #{batch}"
NEW_COMMENT_EMAIL_MESSAGE = "There is a new comment available for batch#{batch}.{user}\n\n\n{text}\n\nSee it here:{link}"

DATA_PETITION = "DATA-PETITION"

MISDEMEANOR = "AOC-CR-281"
ATTACHMENT = "AOC-CR-285"
DISMISSED = "AOC-CR-287"
NOT_GUILTY = "AOC-CR-288"
UNDERAGED_CONVICTIONS = "AOC-CR-293"
ADDENDUM_3B = "Addendum 3B"

PETITION_FORM_TYPES = Choices(
    (MISDEMEANOR, MISDEMEANOR),
    (ATTACHMENT, ATTACHMENT),
    (DISMISSED, DISMISSED),
    (NOT_GUILTY, NOT_GUILTY),
    (UNDERAGED_CONVICTIONS, UNDERAGED_CONVICTIONS),
)
ADDENDUM_FORM_TYPES = Choices(
    (ADDENDUM_3B, ADDENDUM_3B),
)
FORM_TYPES = PETITION_FORM_TYPES + ADDENDUM_FORM_TYPES


NORTH_CAROLINA = "NC"
DURHAM_COUNTY = "DURHAM"

DISTRICT_COURT_WITHOUT_DA_LEAVE = "Dismissal without Leave by DA"

DISMISSED_DISPOSITION_METHODS = (
    DISTRICT_COURT_WITHOUT_DA_LEAVE,
    "Dismissed by Court",
    "Deferred Prosecution Dismissal",
    "Discharge and Dismissal",
    "Conditional Discharge",
    "No Probable Cause",
    "Never To Be Served",
    "Deferred Proceeding or Deferred Prosecution Dismissal",
)

DISP_METHOD_SUPERSEDING_INDICTMENT = "SUPERSEDING INDICTMENT OR PROCESS"
DISP_METHOD_WAIVER_OF_PROBABLE_CAUSE = "WAIVER OF PROBABLE CAUSE"


DISPOSITION_METHOD_CODE_MAP = {
    "APPEAL WITHDRAWN FROM SUPERIOR COURT": "WD",
    "CHANGE OF VENUE": "CV",
    "CONDITIONAL DISCHARGE": "DD",
    "DEFERRED PROCEEDING OR DEFERRED PROSECUTION DISMISSAL": "DPD",
    "DEFERRED PROSECUTION DISMISSAL": "DPD",
    "DISCHARGE AND DISMISSAL": "DD",
    "DISMISSED BY COURT": "DC",
    "DISMISSAL WITH LEAVE BY DA": "VL",
    "DISMISSAL WITHOUT LEAVE BY DA": "VD",
    "DISMISSED BY DA - SPEEDY TRIAL": "ST",
    "DISPOSED BY JUDGE": "JU",
    "FIGHT EXTRADITION": "FE",
    "HABEAS CORPUS HEARING": "HC",
    "JURY TRIAL": "JR",
    "MAGISTRATE": "MA",
    "NEVER TO BE SERVED": "NTBS",
    "NO PROBABLE CAUSE": "NPC",
    "NO TRUE BILL RETURNED": "NB",
    "OTHER": "OT",
    "PROBABLE CAUSE FOUND": "PC",
    "PROBATION OTHER": "PO",
    "PROBATION REVOKED": "PR",
    "REMANDED TO DISTRICT COURT": "RM",
    DISP_METHOD_SUPERSEDING_INDICTMENT: "SI",
    "TRANSFERRED TO DISTRICT COURT": "TD",
    "WAIVER - CLERK": "WC",
    "WAIVER - MAGISTRATE": "WM",
    "WAIVER OF EXTRADITION": "WE",
    DISP_METHOD_WAIVER_OF_PROBABLE_CAUSE: "WP",
}

VERDICT_GUILTY = "GUILTY"
VERDICT_GUILTY_TO_LESSER = "GUILTY TO LESSER"
VERDICT_PRAYER_FOR_JUDGMENT = "PRAYER FOR JUDGMENT"
VERDICT_RESPONSIBLE = "RESPONSIBLE"
VERDICT_RESPONSIBLE_TO_LESSER = "RESPONSIBLE TO LESSER"

VERDICT_CODE_GUILTY = "GU"
VERDICT_CODE_GUILTY_TO_LESSER = "GL"
VERDICT_CODE_PRAYER_FOR_JUDGMENT = "PJC"
VERDICT_CODE_RESPONSIBLE = "RS"
VERDICT_CODE_RESPONSIBLE_TO_LESSER = "RL"

VERDICT_CODE_MAP = {
    VERDICT_GUILTY: VERDICT_CODE_GUILTY,
    VERDICT_GUILTY_TO_LESSER: VERDICT_CODE_GUILTY_TO_LESSER,
    "JUDGMENT ARRESTED": "JA",
    "NOT GUILTY": "NG",
    "NOT RESPONSIBLE": "NR",
    VERDICT_PRAYER_FOR_JUDGMENT: VERDICT_CODE_PRAYER_FOR_JUDGMENT,
    VERDICT_RESPONSIBLE: VERDICT_CODE_RESPONSIBLE,
    VERDICT_RESPONSIBLE_TO_LESSER: VERDICT_CODE_RESPONSIBLE_TO_LESSER,
}

GENERATED_PETITION_ADMIN_FIELDS = (
    "id",
    "username",
    "batch_id",
    "form_type",
    "number_of_charges",
    "created",
)
